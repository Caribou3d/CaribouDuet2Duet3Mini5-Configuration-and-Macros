; =========================================================================================================
;
; Test Routine for Duet WiFi
; Part of self check
;
; test notors of all axis
;
; =========================================================================================================
;
G28 W
G0 X60 Y-3 Z80
;
M906 X1000 Y1000 Z1000 E1000 I100                                      ; set all motors to 1A with no idle current reduction
;
M201 X10000 Y10000 Z10000 E10000                                       ; Acceleration limits (mm/s^2)
M203 X10000 Y10000 Z10000 E10000                                       ; Maximum speeds (mm/min)
;
; =========================================================================================================
;
; single axis tests
;
G90
G1 X-3 Y5
G91
G1 H2 X245 F50000
G1 H2 X-245 F50000
G1 H2 X245 F50000
G1 H2 X-245 F50000
;
G90
G1 X1 Y5
G91
G1 H2 Y200 F50000
G1 H2 Y-200 F50000
G1 H2 Y200 F50000
G1 H2 Y-200 F50000
;
G90
G1 X5 Y5
G91
G1 H2 Z100 F1000
G1 H2 Z-100 F1000
G1 H2 Z100 F1000
G1 H2 Z-100 F1000
;
; =========================================================================================================
;
; 2d tests
;
; rectangle
;
G1 X240 Y210 F50000
G1 X-240 F50000
G1 Y-210 F50000
G1 X240 F50000
G1 Y210 F50000
G1 X0 Y0 F50000
;
; circle
;
G90
G1 H1 X125 Y20 Z25 F6000   ; Move extruder to the middle of the X axis
G91
G2 I5 J80
G2 I5 J80
;
; =========================================================================================================
;
; 3d test
;
G90
G1 X210 Y200 Z180 F2000
G1 X-210 Z-120 F2000
G1 Y-200 Z120 F2000
G1 X220 Z-120 F2000
G1 Y200 Z120 F2000
G1 X-200 Z-100 F2000
M400
G90
;
; =========================================================================================================
;
M906 X950 Y1000 Z450 E550 I40                                          ; set motor currents (mA) and motoridle factor in per cent
M201 X500.00 Y500.00 Z100.00 E500.00                                   ; set accelerations (mm/s^2)
M203 X9000.00 Y9000.00 Z1000.00 E3600.00                               ; set maximum speeds (mm/min)
;
G1 X0 Y0 F2000
G1 Z1 F2000
;
; =========================================================================================================
;
M98 P"0:/sys/current-sense-normal.g"   ; Ensure that motor currents and sense are set for printing
;
; =========================================================================================================
;
